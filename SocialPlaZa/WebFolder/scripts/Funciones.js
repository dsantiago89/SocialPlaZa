//Array asociativo con los diferentes patrones que necesitamos para validarvar aPatron=[];	//Cuenta de correo	aPatron['email']=/^[\w-\.]{3,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}$/;	//Núro tarjeta de créto	aPatron['tarjetaCredito']=/^((67\d{2})|(4\d{3})|(5[1-5]\d{2})|(6011))(-?\s?\d{4}){3}|(3[4,7])\d{2}-?\s?\d{6}-?\s?\d{5}$/;	//Núro teléno	aPatron['telefono']=/^[0-9]{2,3}-? ?[0-9]{6,7}$/;	//Cógo postal	aPatron['cp']=/^([1-9]{2}|[0-9][1-9]|[1-9][0-9])[0-9]{3}$/;	//Dato solo letras	aPatron['letras']=/^[a-zA-ZñÑáéíóúÁÉÍÓÚüÜ ]+$/;	//Dato numerico	aPatron['numeros']=/^[0-9]+$/;	/* Funcion que valida String		id 		==> id del campo donde esta el valor a comprobar		indice 	==> tipo de tado que es, para buscar en el array		img		==> indice dela imagen que hay que mostrar u ocultar					Ej: la imagen tick tiene id image1 y el aspa image2						por lo que se muestra una y se oculta la otra						En este caso la variable img tiene valor 1						   Utilizamos test para comprobar si el parametro valor cumple con el patron.   La funcióevuelve true o false, cambia el color del borde y muestra la imagen    dependiendo si el valor es correcto o no */      ID="";function validarCampo(id1,indice,img,comp){	var id='#';	if(comp){		 id= '#'+comp+'_';    }    id1=id+id1;    if(aPatron[indice].test($(id1).val())){    	$(id+'image'+img).fadeIn();    	$(id+'image'+(img+1)).hide();    	$(id1).css("border-color","#999");        return true;    }else{    	$(id+'image'+img).hide();    	$(id+'image'+(img+1)).fadeIn();    	$(id1).css("border-color","#fc2525");        return false;	}}//Funcion para comprobar si dos campos son iguales, gestión de errores igual que función validarCampofunction iguales(id1,id2,img,comp){	var id='#';	if(comp){		 id= '#'+comp+'_';    }    id1=id+id1;    id2=id+id2;	if($(id1).val()==$(id2).val() && $(id1).val()!=""){		$(id+'image'+img).fadeIn();    	$(id+'image'+(img+1)).hide();		$(id1).css("border-color","#999");		$(id2).css("border-color","#999") 		return true;	}else{ 		$(id+'image'+img).hide();    	$(id+'image'+(img+1)).fadeIn();    	$(id1).css("border-color","#fc2525");   	 	$(id2).css("border-color","#fc2525"); 		return false;	}}//Funcion que mirar si todos los campos son correctos.//En el caso que lo sean devuelve true, sino, falsefunction comprobarFormulario(comp){	var ok=true;	ok*=validarCampo('textField1','letras',1,comp);	ok*=validarCampo('textField2','letras',3,comp);	ok*=validarCampo('textField3','letras',5,comp);	ok*=validarCampo('textField4','email',7,comp);	ok*=iguales('textField5','textField6',9,comp);	return ok;}function cambiarOnFocus(id1,id2,valorDefecto,comp){	var id='#';	if(comp){		 id= '#'+comp+'_';    }	id1=id+id1;	id2=id+id2;		if ($(id1).val() == valorDefecto) {		$(id1).val("");		$(id1).css("color","black");		$(id2).fadeIn('slow');	}}//Funciones para evaluar el nivel de componentes anidadosfunction actualNivel(){	return ID;}function bajarNivel(){	if(actualNivel()!=""){		$$(actualNivel()).removeComponent();		ID = ID.substring(0,ID.lastIndexOf('_'));	}}function nuevoNivel(nivel){	ID=nivel;}